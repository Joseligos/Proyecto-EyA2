<!-- Add this to your index.html head section -->
<script>
  // Check if we're on the ePayco landing page
  window.addEventListener('load', function() {
    if (window.location.href.includes('secure.epayco.co/landingresume')) {
      // Extract the ref_payco parameter
      const urlParams = new URLSearchParams(window.location.search);
      const refPayco = urlParams.get('ref_payco');
      
      // Get the orderId from localStorage (we'll need to save this before redirecting to ePayco)
      const orderId = localStorage.getItem('currentOrderId');
      
      if (refPayco && orderId) {
        // Create a redirect button
        const redirectDiv = document.createElement('div');
        redirectDiv.style.position = 'fixed';
        redirectDiv.style.top = '20px';
        redirectDiv.style.right = '20px';
        redirectDiv.style.zIndex = '9999';
        
        const redirectButton = document.createElement('button');
        redirectButton.innerText = 'Return to Fitness Hub';
        redirectButton.style.padding = '10px 20px';
        redirectButton.style.backgroundColor = '#4fa3ff';
        redirectButton.style.color = 'white';
        redirectButton.style.border = 'none';
        redirectButton.style.borderRadius = '5px';
        redirectButton.style.cursor = 'pointer';
        
        redirectButton.addEventListener('click', function() {
          window.location.href = `${localStorage.getItem('appOrigin') || 'http://localhost:3000'}/payment-response?orderId=${orderId}&ref_payco=${refPayco}`;
        });
        
        redirectDiv.appendChild(redirectButton);
        document.body.appendChild(redirectDiv);
      }
    }
  });
</script>